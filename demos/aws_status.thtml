<!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML 3.2//EN">

<!-- $Id$ -->

<html>
<head>
<title>AWS - Status page</title>
</head>

<body bgcolor="lightgrey">

<table width=100%>

<tr>
<td width=50%>
<H2 align=center>Ada Web Server Status</H2>

<td width=50%>
<img align=center src="@_LOGO_@"> Version @_VERSION_@
</table>

<br>
<hr>
<br>

<p><i>@_DAY_NAME_@ @_DAY_@ @_MONTH_NAME_@ @_YEAR_@,
@_HOUR_@:@_MINUTE_@:@_SECOND_@.</i>

<br>
<br>

<br>

<H3>The following data describe server "<i>@_SERVER_NAME_@</i>" current
status.</H3>

<table>

<tr>
<td width=250>Started on
<td><b>@_START_TIME_@</b>
</tr>

<tr>
<td width=250>Maximum connections
<td><b>@_MAX_CONNECTION_@</b>
</tr>

<tr>
<td>Server Port
<td><b>@_SERVER_PORT_@</b>
</tr>

<tr>
<td>Server Socket
<td><b>@_SERVER_SOCK_@</b>
</tr>

<tr>
<td>Server Security (HTTPS/SSL)
<td><b>@_YES_NO:SECURITY_@</b>
</tr>

<tr>
<td>Server has session
<td><b>@_YES_NO:SESSION_@</b>
</tr>

</table>

<br>

<H3>Logs information:</H3>

@@IF@@ @_LOG_@

<table>

<tr>
<td width=250>Log filename
<td><b>@_LOG_FILE_@</b>
</tr>

<tr>
<td>Mode
<td><b>@_LOG_MODE_@</b>
</tr>

</table>

@@ELSE@@
   No log activated.
@@END_IF@@

<br>

<H3>Slots information are given below:</H3>

<table>

<tr bgcolor=yellow>
<td align=center>Slot number
<td align=center>Socket
<td align=center>Last Client IP
<td align=center>Phase
<td align=center>Abortable
<td align=center>Slot Counter
<td align=center>Socket Counter
<td align=center>Activity Time Stamp
</tr>

@@TABLE@@
<tr bgcolor=white>
<td align=center>@_TABLE_LINE_@
<td align=center>@_SOCK_V_@
@@IF@@ @_EXIST:PEER_NAME_V_@
  <td align=center>@_PEER_NAME_V_@
@@ELSE@@
  <td align=center>&nbsp;
@@END_IF@@
<td align=center>@_CAPITALIZE:PHASE_V_@
<td align=center>@_YES_NO:ABORTABLE_V_@
<td align=center>@_ACTIVITY_COUNTER_V_@
<td align=center>@_SLOT_ACTIVITY_COUNTER_V_@
<td>@_ACTIVITY_TIME_STAMP_V_@
</tr>
@@SECTION@@
<tr bgcolor=turquoise>
<td align=center>@_TABLE_LINE_@
<td align=center>@_SOCK_V_@
@@IF@@ @_EXIST:PEER_NAME_V_@
  <td align=center>@_PEER_NAME_V_@
@@ELSE@@
  <td align=center>&nbsp;
@@END_IF@@
<td align=center>@_CAPITALIZE:PHASE_V_@
<td align=center>@_YES_NO:ABORTABLE_V_@
<td align=center>@_ACTIVITY_COUNTER_V_@
<td align=center>@_SLOT_ACTIVITY_COUNTER_V_@
<td>@_ACTIVITY_TIME_STAMP_V_@
</tr>
@@END_TABLE@@

</table>

<br>

<H3>Sessions information are given below:</H3>

@@IF@@ @_SESSION_@
<table>

<tr>
<td width=200>Session Lifetime
<td><b>@_SESSION_LIFETIME_@ secs</b>
</tr>

<tr>
<td width=200>Session cleanup interval
<td><b>@_SESSION_CLEANUP_INTERVAL_@ secs</b>
</tr>
</table>

<br>

@@END_IF@@

@@IF@@ @_IS_EMPTY:SESSIONS_V_@

  <i>No active session.</i>

@@ELSE@@

  <ol>
  @@TABLE@@

  <li>Session ID: <tt><font size=+1><b>@_SESSIONS_V_@</b></font></tt>
     (<i>@_SESSIONS_TS_V_@</i> ... <i>@_SESSIONS_TERMINATE_V_@</i>)

  <table>
  <tr>
  @@TABLE@@
    @@IF@@ @_EXIST:KEYS_M_@
      <td bgcolor=yellow>
      @_KEYS_M_@
      </td>
    @@END_IF@@
  @@END_TABLE@@
  </tr>

  <tr>
  @@TABLE@@
    @@IF@@ @_EXIST:KEYS_M_@
      <td bgcolor=turquoise>
      @_VALUES_M_@
      </td>
    @@END_IF@@
  @@END_TABLE@@
  </tr>
  </table>

  </table>
  @@END_TABLE@@

  </ol>

@@END_IF@@

<br>

<H3>Hotplug modules are listed below:</H3>

@@IF@@ @_IS_EMPTY:HP_REGEXP_V_@

  <i>No Hotplug module loaded.</i>

@@ELSE@@

  <table>

  <tr bgcolor=yellow>
  <td width=20>Order
  <td width=150>Module Regexp
  <td width=300>Server address
  <td>
  </tr>

  @@TABLE@@
    <tr bgcolor=white>
    <td>@_TABLE_LINE_@
    <td align=center>@_HP_REGEXP_V_@
    <td>@_HP_URL_V_@
    <td><a href="@_ADMIN_@-HPup?N=@_TABLE_LINE_@">
    <img src="@_ADMIN_@-uparr" border=0></a>
    <a href="@_ADMIN_@-HPdown?N=@_TABLE_LINE_@">
    <img src="@_ADMIN_@-downarr" border=0></a>
    </tr>
  @@SECTION@@
    <tr bgcolor=turquoise>
    <td>@_TABLE_LINE_@
    <td align=center>@_HP_REGEXP_V_@
    <td>@_HP_URL_V_@
    <td><a href="@_ADMIN_@-HPup?N=@_TABLE_LINE_@">
    <img src="@_ADMIN_@-uparr" border=0></a>
    <a href="@_ADMIN_@-HPdown?N=@_TABLE_LINE_@">
    <img src="@_ADMIN_@-downarr" border=0></a>
    </tr>
  @@END_TABLE@@
  </table>

@@END_IF@@

<br>
<hr>
<br>

<p>AWS has been developed in Ada with GNU/Ada compiler
(see GNAT on <a href="http://www.gnat.com">ACT Web site</a>).
<p><a href="mailto:anisimkov@yahoo.com">Dmitriy Anisimkov</a>, 
<a href="mailto:p.obry@wanadoo.fr">Pascal Obry</a>

</body>
</html>
