2004-11-27  Pascal Obry  <pascal@obry.org>

	* ada2wsdl-parser.adb:
	(Type_Name): Properly handles short and long integers.

2004-11-27  Pascal Obry  <pascal@obry.org>

	* wsdl2aws.adb:
	Add support for new option '-x operation' used to exclude an
	 operation from the SOAP code generator.
	Set exit status before exiting the program.

2004-11-26  Pascal Obry  <pascal@obry.org>

	* wsdl2aws.adb:
	Catch WSDL_Error to not display exception information.

	* tools.gpr:
	(Binder): New package renaming of Shared.Binder.

2004-11-13  Pascal Obry  <pascal@obry.org>

	* makefile:
	(ada2wsdl-options.adb): Remove generated options for XML/Ada.
	Kill style checking.

2004-11-04  Pascal Obry  <pascal@obry.org>

	* wsdl2aws.adb:
	Add support for new option "-spec", used if the SOAP procedure
	 specs are not in the same packages as the type definitions.
	

2004-11-03  Pascal Obry  <pascal@obry.org>

	* ada2wsdl-parser.adb:
	(Analyse_Array_Component): Properly check for selected components.

2004-11-02  Pascal Obry  <pascal@obry.org>

	* ada2wsdl-parser.adb:
        (Analyse_Array_Component): New routine.
        (Analyse_Type): Call Analyse_Array_Component after parsing an array.
        (Register_Deferred): Do not insert the element into the list if it
         already exists. Fix problem with duplicate WSDL type definition.

	* ada2wsdl-generator.adb:
	(Start_Array): Output (<>) if unconstrained array.

2004-10-12  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* makefile:
	Workaround GCC 3.4.2 project link sequence bug.

2004-10-11  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* makefile:
	Use BDIR macros for setup/cleanup build directories.

2004-09-29  Pascal Obry  <pascal@obry.org>

	* tools.gpr:
	Import "asis" project which is automatically generated.

	* makefile:
	Extensive changes to support build based on GNAT Project files.
	The makefile based build has been removed.

2004-09-15  Pascal Obry  <pascal@obry.org>

	* tools.gpr:
	Do not use "null;" as it is not support on GNAT 5.02.

2004-09-15  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* makefile:
	Remove -lpoll linker option for Win32.

2004-09-04  Pascal Obry  <pascal@obry.org>

	* wsdl2aws.adb:
	(Parse_Command_Line): Add support for -d option (debug mode).
	Add "-d" into the usage output.

2004-08-11  Pascal Obry  <pascal@obry.org>

	* tools.gpr:
	Add missing value in case statements to avoid warnings.

2004-07-09  Pascal Obry  <pascal@obry.org>

	* ada2wsdl-options.ads:
	Fix typos in comment.
        Update copyright notice.

	* ada2wsdl-parser.ads:
	Remove Asis with clause from here.
        (Initialize): Fix typo in comment.
        Update copyright notice.

	* ada2wsdl-parser.adb:
        Sort withed units.
	(Get_Tree_Name): Fix bug when removing the pathname.

2004-06-27  Pascal Obry  <pascal@obry.org>

	* ada2wsdl-generator.adb:
	(Write_Message): Use SOAP.WSDL defintions to output the header.

2004-06-01  Pascal Obry  <pascal@obry.org>

	* makefile:
	(TOOLS): Add hotplug_password.

	* hotplug_password.adb:
	Initial revision.

2004-05-31  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* makefile:
	Add ../xsrc to include directories.

2004-05-31  Pascal Obry  <pascal@obry.org>

	* ada2wsdl-parser.adb:
	Add use clauses for A4G.GNAT_Int and Asis.Extensions to gives
	 visibility to the Compile routine which is defined in
	 A4G.GNAT_Int in GNAT version prior to 5.02.
	(Create_Tree): Remove Compile prefix.

2004-04-14  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(gbuild): Fix target to properly set the build mode.

2004-04-05  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* makefile:
	Add Win32 poll support.
	Use libpoll.a instead of poll.o for optional linking.

2004-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Type_Name): Add support for SOAP_Base64 runtime type.
        Minor reformatting.
        Update copyright notice.

	* ada2wsdl-generator.adb:
	(Return_Type): Output the return type in verbose mode.
        (To_XSD): Handle SOAP_Base64.
        Update copyright notice.

2004-03-18  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	Fix main for ada2wsdl which is ada2wsdl-main.
	(Linker): Add -lasis to the ada2wsdl-main switches.

	* makefile:
	(gsetup): Add dependence to $(GEN) to properly generate
	 ada2wsdl-options.adb.

2004-01-30  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	Remove xmlada dependency.
	Remove use of Shared.LIB_XMLADA.
	Update copyright notice.

	* makefile:
	(.SILENT): Simplify.
	(GEN): New variable.
	(build): Depends on $(GEN)
	($(TOOLS)): Remove ada2wsdl-options.adb.

2004-01-26  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	(Ide): Renaming of Shared.Ide.

	* awsres.adb:
	Minor reformatting.
	Update copyright notice.

2004-01-21  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	(Languages): Add support for Ada, ChangeLog, makefile and Project
	 files.
	Rename Z_Lib to ZLib.

2003-12-26  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* awsres.adb:
	(Create): Fix memory damage. There was a deallocation of static disk
	 stream inside of Close compression stream.

2003-12-19  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	Add ASIS project support.
	(Linker): Handle all tools.
	Minor reformatting.

2003-12-18  Pascal Obry  <obry@act-europe.fr>

	* awsres.adb:
	Minor reformatting.

2003-12-18  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* awsres.adb:
	(Create): Set to gzip header format. Use AWS.Resources.Streams for
	 get file data and compression. Compression of the complete file
	 instead of 200K chunk compression.

2003-12-12  Pascal Obry  <p.obry@wanadoo.fr>

	* awsres.adb:
	(Version): Set to 1.2.
	(Create): If resource is compressed, register it with .gz
	 extension. Change code to register resource.

2003-12-10  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(GARGS): Add -m to avoid recompilation of ada2wsdl because of
	 ada2wsdl-options.adb regeneration.

2003-12-02  Pascal Obry  <p.obry@wanadoo.fr>

	* awsres.adb:
	(Version): Set to 1.1.
	Add support for -u and -z option to register uncompressed or
	 compressed resources.

2003-11-28  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Analyse_Package): Convert dot to dash to form a valid GNAT filename.

2003-11-26  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	Update output layout.

2003-11-26  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Analyse_Node): Handle A_Subtype_Declaration.
	(Analyse_Field): Handle subtypes.
	(Analyse_Type): Handle subtypes.

	* ada2wsdl-generator.adb:
	(Array_Constraint): New routine, returns array constraint.
	(Write_Array): Call Array_Constraint.

	* ada2wsdl.ads:
	(Version): Set to 1.0.

2003-11-26  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Register_Deferred): Moved to package level.
	(Analyse_Type): Add Deferred_U_Arrays table to handle properly
	 field in record whose type is an array with constraint. Code
	 clean-up. Generate deferred arrays definition after analysing
	 record fields. Properly handle constrained arrays
	 definition. Checks for unconstrained array derived types.
	(Array_Type_Suffix): New routine.
	(Analyse_Field): Check for unconstrained array definition. Record
	 a deferred array definition if needed.
	(Type_Name): Handles arrays. Checks for String special case.

	* ada2wsdl-generator.adb:
	(Definition) [Table]: Add Length field.
	(Start_Array): Add Length formal parameter, record Length into the
	 definition object.
	(Type_Exists): Properly checks for Table.
	Minor reformatting.

	* ada2wsdl-generator.ads:
	(Start_Array): Add Length formal parameter.

2003-11-24  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Add info about -main option.

2003-11-24  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Main): New variable.
	(Parse_Command_Line): Add support for option -main.

2003-11-24  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(clean): Add ada2wsdl-options.adb.

2003-11-24  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	($(TOOLS)): Depends on ada2wsdl-options.adb.
	(ada2wsdl-options.adb): New target. Build Set_Default routine with
	 the path to XMLAda and AWS components.

	* ada2wsdl-main.adb:
	Call Options.Set_Default.

	* ada2wsdl-options.ads:
	(Set_Default): New procedure. Body generated automatically.

2003-11-23  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Mode): Add Safe_Pointer_Definition.
	(Definition): Add Safe_Pointer_Definition variant case.
	(New_Component): Checks for a safe pointer array component.
	(Register_Safe_Pointer): New routine.
	(Write_Schema): Handle Safe_Pointer_Definition case.

	* ada2wsdl-generator.ads:
	(Register_Safe_Pointer): New routine.

	* ada2wsdl-main.adb:
	Add "ada2wsdl:" before the exception message.

	* ada2wsdl-parser.adb:
	(Analyse_Package_Instantiation): New routine. Used to analyse safe
	 pointer for arrays in records on the spec.
	(Analyse_Node): Do not analyse A_Generic_Function_Declaration and
	 A_Generic_Procedure_Declaration. Add support for
	 A_Package_Instantiation.
	(Create_Element_Node): Handles A_Package_Instantiation nodes.
	Minor reformatting.

	* ada2wsdl.ads:
	(Version): Set to 0.9.

2003-11-19  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_Header): Add soap-enc, wsdl and xsi schema namespaces.
	(Write_Array): Properly use the wsdl namespace for arrayType.

	* ada2wsdl-parser.adb:
	(Type_Name): Fix regression introduced in previous check-in. Check
	 for subtype of float to avoid introducing a schema definition.

2003-11-19  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Type_Name): Properly check for Boolean special enumeration.
	 Returns the right float type used (float, long_float or
	 long_long_float).

2003-11-18  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_SOAP_Body): Set use="encoded".
	Continued work for compatibility with Axis.

2003-11-17  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(To_XSD): Add tns: namespace to all non xsd types.
	(Write_Binding): Issue proper tns: prefix when needed.
	(Write_Header): Add targetNamespace and xmlns:tns attributes.
	(Write_Operation): Issue proper tns: prefix when needed.
	(Write_Service): Idem.
	This makes the WSDL document generated compatible with the
	 WSDL2Java tool.

2003-11-15  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Fix casing error.

2003-11-15  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Mode): Add Enumeration.
	(Definition): Handle enumeration variant.
	(Start_Enumeration): New routine.
	(New_Literal): New routine.
	(Type_Exists): Check also enumerations.
	(Write_Schema.Write_Enumeration): New routine.
	(Write_Schema): Handle enumerations.

	* ada2wsdl-generator.ads:
	(Start_Enumeration): New routine.
	(New_Literal): New routine.

	* ada2wsdl-main.adb:
	(Parse_Command_Line): Add support for -noenum option.
	(Usage): Document -noenum option.

	* ada2wsdl-options.ads:
	(Enum_To_String): New variable set to False.

	* ada2wsdl-parser.adb:
	(Analyse_Type): Add support for enumeration types.
	(Register_Deferred): New routine.
	(Type_Name): Add support for enumeration types if option activated
	 otherwise enumerations are mapped to xsd:string.

	* wsdl2aws.adb:
	(Parse_Command_Line): Add support for option -cb.
	Add usage info for -cb.

2003-11-14  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_Character): Output simpler Character schema definition.

2003-11-14  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_Message): Handle cases where there is no output or not input.
	(Write_Operation): Idem.
	This handles properly Notification operations and Request-response
	 operations as defined the the WSDL definition.

	* ada2wsdl.ads:
	(Version): Set to 0.8.

2003-11-13  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Mode): Add Derived.
	(Definition): Handle the Derived variant.
	(Character_Schema): New variable.
	(Record_Exists): Renamed to Types_Exists.
	(Register_Derived): New routine.
	(To_XSD): If character set tag to generate schema.
	(Types_Exists): Was Record_Exists.
	(Write_Schema.Write_Character): New procedure.
	(Write_Schema.Write_Derived): New procedure.
	(Write_Schema): Handle derived types.

	* ada2wsdl-generator.ads:
	(Record_Exists): Renamed to Types_Exists.
	(Types_Exists): Was Record_Exists.
	(Register_Derived): New routine.

	* ada2wsdl-parser.adb:
	(Analyse_Profile): Properly checks for A_Default_In_Mode to
	 support routine without parameter mode specified.
	(Analyse_Type): Handle derived types.
	(Type_Name): Rewrite, cleaner and it handles derived types,
	 character types and enumeration types (mapped to Ada strings).

2003-11-04  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Start): Remove CU_Kind variable, not used.

2003-11-03  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Check_Float): New version based on ASIS entity. Checks for
	 digits.
	Minor reformatting.

	* ada2wsdl.adb:
	(Location): Return also the unit name enclosing the entity. The
	 format is now <unit>:<line>:<column>.
	(Raise_Spec_Error): Removes ada2wsdl output.

	* ada2wsdl.ads:
	(Location): Remove pragma Inline.

2003-11-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	($(TOOLS)): Do not echo tools.

	* ada2wsdl-parser.adb:
	(Type_Name.Check_Float): New routine which issue a warning for
	 Float usage. Remove dead code.
	(Create_Tree): Free Tree_Name.

	* ada2wsdl.adb:
	(Location): New routine.
	(Raise_Spec_Error): Use Location.

	* ada2wsdl.ads:
	(Version): Set to 0.5.
	(Location): New routine.

	* wsdl2aws.adb:
	(Parse_Command_Line): Add support for -types options. Option to
	 have wsdl2aws compatible with ada2wsdl.
	(Usage): Add -types option.

2003-11-02  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-main.adb:
	(Parse_Command_Line): Add support for -I options.
	(Usage): Add -I option.
	Call now Parser.Start instead of Parser.Create_Sample (renamed).

	* ada2wsdl-parser.adb:
	(Arg_Index): New variable.
	(Max_Argument): New constant.
	(Create_Sample): Renamed Start.
	(Add_Option): New procedure.
	(Create_Tree): Pass Arg_List to A4G.GNAT_Int.Compile.

	* ada2wsdl-parser.ads:
	(Create_Sample): Renamed Start.
	(Add_Option): New routine.

2003-11-01  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Tree_Exist): Removed, not used.
	(Analyse_Routine): Put in alphabetical order.

	* makefile:
	(EXECS): New target (real executable names).
	(ALL_EXEC): Based on EXECS.
	(clean): Add *~

2003-10-31  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.ads, ada2wsdl-generator.adb:
	Initial revision.

	* ada2wsdl-main.ads, ada2wsdl-main.adb:
	Initial revision.

	* ada2wsdl-options.ads:
	Initial revision.

	* ada2wsdl-parser.ads, ada2wsdl-parser.adb:
	Initial revision.

	* ada2wsdl.ads, ada2wsdl.adb:
	Initial revision.

	* makefile:
	(TOOLS): Add ada2wsdl-main if ASIS installed.
	($(TOOLS)): Remove -main suffix if present.

2003-10-09  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	(Linker): New package to support -lz and XMLAda libraries.

	* awsres.adb:
	Minor reformatting.

2003-10-04  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	($(TOOLS)): Add -lz.

2003-10-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	($(TOOLS)): Add -L../lib

2003-09-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Parse_Command_Line): Remove trailing space from the option string.

2003-09-18  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Parse_Command_Line): Retrieve the command line and set it into
	 the SOAP Generator.

2003-08-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	Use variable instead of directly calling tools.

2003-08-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	Add section to build AWS based on project files.
	(gbuild): New target.
	(gclean): Idem.
	(gsetup): Idem.

	* tools.gpr:
	New version, this version make it possible to develop AWS using
	 the project files from GPS.

2003-07-29  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Handle Name_Error exception and properly report that the file was
	 not found.

2003-05-20  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Set WSDL_File only when Filename has been set with the local filename.

2003-05-06  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	Initial revision.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Fix proxy handling. A proxy can be specified without user/password
	Add some comments.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Add support for -doc option. Removes -rpc option. We want to bind
	 to RPC style web services, the -doc option is to try to parse a
	 document style web service as an RPC one but there is no
	 guarantee that this will work.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Add support for -o option used to specified the name of the local
	 file when using wsdl2aws with an URL.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Get_Document): New procedure to retreive WSDL document from an URL.
	(Parse_Command_Line): Add support for -s option.
	Load document from the Web if WSDL document name start with http://

2003-03-19  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(GARGS): Add -I../ssl because SOAP.Generator.Stub depends on
	 SOAP.Client.

	* wsdl2aws.adb:
	Add support for option -proxy, -pu and -pp, this implements proxy
	 authentication WSDL/SOAP support.

2003-03-16  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Verbose): New variable. Implement a multi-level verbose mode. (-v -v).

2003-03-05  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(TOOLS): New variable. If XMLADA is defined add wsdl2aws tool.
	(ALL_EXEC): New variable.
	(clean): Use $(ALL_EXEC).

	* wsdl2aws.adb:
	Initial revision.

2003-02-01  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(clean): Use rm -f to avoid warnings.

2002-12-04  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(awsres): Echo progress report.

2002-11-25  Pascal Obry  <p.obry@wanadoo.fr>

	* awsres.adb:
	(Version): Set to 1.0.

2002-06-23  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	Initial revision.

	* awsres.adb:
	Initial revision.
