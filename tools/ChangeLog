2003-11-23  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Mode): Add Safe_Pointer_Definition.
	(Definition): Add Safe_Pointer_Definition variant case.
	(New_Component): Checks for a safe pointer array component.
	(Register_Safe_Pointer): New routine.
	(Write_Schema): Handle Safe_Pointer_Definition case.

	* ada2wsdl-generator.ads:
	(Register_Safe_Pointer): New routine.

	* ada2wsdl-main.adb:
	Add "ada2wsdl:" before the exception message.

	* ada2wsdl-parser.adb:
	(Analyse_Package_Instantiation): New routine. Used to analyse safe
	 pointer for arrays in records on the spec.
	(Analyse_Node): Do not analyse A_Generic_Function_Declaration and
	 A_Generic_Procedure_Declaration. Add support for
	 A_Package_Instantiation.
	(Create_Element_Node): Handles A_Package_Instantiation nodes.
	Minor reformatting.

	* ada2wsdl.ads:
	(Version): Set to 0.9.

2003-11-19  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_Header): Add soap-enc, wsdl and xsi schema namespaces.
	(Write_Array): Properly use the wsdl namespace for arrayType.

	* ada2wsdl-parser.adb:
	(Type_Name): Fix regression introduced in previous check-in. Check
	 for subtype of float to avoid introducing a schema definition.
	
2003-11-19  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Type_Name): Properly check for Boolean special enumeration.
	 Returns the right float type used (float, long_float or
	 long_long_float).

2003-11-18  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_SOAP_Body): Set use="encoded".
	Continued work for compatibility with Axis.

2003-11-17  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(To_XSD): Add tns: namespace to all non xsd types.
	(Write_Binding): Issue proper tns: prefix when needed.
	(Write_Header): Add targetNamespace and xmlns:tns attributes.
	(Write_Operation): Issue proper tns: prefix when needed.
	(Write_Service): Idem.
	This makes the WSDL document generated compatible with the
	 WSDL2Java tool.

2003-11-15  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Fix casing error.

2003-11-15  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Mode): Add Enumeration.
	(Definition): Handle enumeration variant.
	(Start_Enumeration): New routine.
	(New_Literal): New routine.
	(Type_Exists): Check also enumerations.
	(Write_Schema.Write_Enumeration): New routine.
	(Write_Schema): Handle enumerations.

	* ada2wsdl-generator.ads:
	(Start_Enumeration): New routine.
	(New_Literal): New routine.

	* ada2wsdl-main.adb:
	(Parse_Command_Line): Add support for -noenum option.
	(Usage): Document -noenum option.

	* ada2wsdl-options.ads:
	(Enum_To_String): New variable set to False.

	* ada2wsdl-parser.adb:
	(Analyse_Type): Add support for enumeration types.
	(Register_Deferred): New routine.
	(Type_Name): Add support for enumeration types if option activated
	 otherwise enumerations are mapped to xsd:string.

	* wsdl2aws.adb:
	(Parse_Command_Line): Add support for option -cb.
	Add usage info for -cb.

2003-11-14  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_Character): Output simpler Character schema definition.
	
2003-11-14  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Write_Message): Handle cases where there is no output or not input.
	(Write_Operation): Idem.
	This handles properly Notification operations and Request-response
	 operations as defined the the WSDL definition.

	* ada2wsdl.ads:
	(Version): Set to 0.8.

2003-11-13  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.adb:
	(Mode): Add Derived.
	(Definition): Handle the Derived variant.
	(Character_Schema): New variable.
	(Record_Exists): Renamed to Types_Exists.
	(Register_Derived): New routine.
	(To_XSD): If character set tag to generate schema.
	(Types_Exists): Was Record_Exists.
	(Write_Schema.Write_Character): New procedure.
	(Write_Schema.Write_Derived): New procedure.
	(Write_Schema): Handle derived types.

	* ada2wsdl-generator.ads:
	(Record_Exists): Renamed to Types_Exists.
	(Types_Exists): Was Record_Exists.
	(Register_Derived): New routine.

	* ada2wsdl-parser.adb:
	(Analyse_Profile): Properly checks for A_Default_In_Mode to
	 support routine without parameter mode specified.
	(Analyse_Type): Handle derived types.
	(Type_Name): Rewrite, cleaner and it handles derived types,
	 character types and enumeration types (mapped to Ada strings).

2003-11-04  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Start): Remove CU_Kind variable, not used.

2003-11-03  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Check_Float): New version based on ASIS entity. Checks for
	 digits.
	Minor reformatting.

	* ada2wsdl.adb:
	(Location): Return also the unit name enclosing the entity. The
	 format is now <unit>:<line>:<column>.
	(Raise_Spec_Error): Removes ada2wsdl output.

	* ada2wsdl.ads:
	(Location): Remove pragma Inline.

2003-11-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	($(TOOLS)): Do not echo tools.

	* ada2wsdl-parser.adb:
	(Type_Name.Check_Float): New routine which issue a warning for
	 Float usage. Remove dead code.
	(Create_Tree): Free Tree_Name.

	* ada2wsdl.adb:
	(Location): New routine.
	(Raise_Spec_Error): Use Location.

	* ada2wsdl.ads:
	(Version): Set to 0.5.
	(Location): New routine.

	* wsdl2aws.adb:
	(Parse_Command_Line): Add support for -types options. Option to
	 have wsdl2aws compatible with ada2wsdl.
	(Usage): Add -types option.

2003-11-02  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-main.adb:
	(Parse_Command_Line): Add support for -I options.
	(Usage): Add -I option.
	Call now Parser.Start instead of Parser.Create_Sample (renamed).

	* ada2wsdl-parser.adb:
	(Arg_Index): New variable.
	(Max_Argument): New constant.
	(Create_Sample): Renamed Start.
	(Add_Option): New procedure.
	(Create_Tree): Pass Arg_List to A4G.GNAT_Int.Compile.

	* ada2wsdl-parser.ads:
	(Create_Sample): Renamed Start.
	(Add_Option): New routine.

2003-11-01  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-parser.adb:
	(Tree_Exist): Removed, not used.
	(Analyse_Routine): Put in alphabetical order.

	* makefile:
	(EXECS): New target (real executable names).
	(ALL_EXEC): Based on EXECS.
	(clean): Add *~

2003-10-31  Pascal Obry  <p.obry@wanadoo.fr>

	* ada2wsdl-generator.ads, ada2wsdl-generator.adb:
	Initial revision.

	* ada2wsdl-main.ads, ada2wsdl-main.adb:
	Initial revision.

	* ada2wsdl-options.ads:
	Initial revision.

	* ada2wsdl-parser.ads, ada2wsdl-parser.adb: 
	Initial revision.

	* ada2wsdl.ads, ada2wsdl.adb:
	Initial revision.

	* makefile:
	(TOOLS): Add ada2wsdl-main if ASIS installed.
	($(TOOLS)): Remove -main suffix if present.

2003-10-09  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	(Linker): New package to support -lz and XMLAda libraries.

	* awsres.adb:
	Minor reformatting.

2003-10-04  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	($(TOOLS)): Add -lz.

2003-10-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	($(TOOLS)): Add -L../lib

2003-09-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Parse_Command_Line): Remove trailing space from the option string.

2003-09-18  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Parse_Command_Line): Retrieve the command line and set it into
	 the SOAP Generator.

2003-08-02  Pascal Obry  <p.obry@wanadoo.fr>
	
	* makefile:
	Use variable instead of directly calling tools.
	
2003-08-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	Add section to build AWS based on project files.
	(gbuild): New target.
	(gclean): Idem.
	(gsetup): Idem.

	* tools.gpr:
	New version, this version make it possible to develop AWS using
	 the project files from GPS.

2003-07-29  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Handle Name_Error exception and properly report that the file was
	 not found.

2003-05-20  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Set WSDL_File only when Filename has been set with the local filename.

2003-05-06  Pascal Obry  <p.obry@wanadoo.fr>

	* tools.gpr:
	Initial revision.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Fix proxy handling. A proxy can be specified without user/password
	Add some comments.
	
2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Add support for -doc option. Removes -rpc option. We want to bind
	 to RPC style web services, the -doc option is to try to parse a
	 document style web service as an RPC one but there is no
	 guarantee that this will work.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	Add support for -o option used to specified the name of the local
	 file when using wsdl2aws with an URL.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Get_Document): New procedure to retreive WSDL document from an URL.
	(Parse_Command_Line): Add support for -s option.
	Load document from the Web if WSDL document name start with http://

2003-03-19  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(GARGS): Add -I../ssl because SOAP.Generator.Stub depends on
	 SOAP.Client.

	* wsdl2aws.adb:
	Add support for option -proxy, -pu and -pp, this implements proxy
	 authentication WSDL/SOAP support.

2003-03-16  Pascal Obry  <p.obry@wanadoo.fr>

	* wsdl2aws.adb:
	(Verbose): New variable. Implement a multi-level verbose mode. (-v -v).

2003-03-05  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(TOOLS): New variable. If XMLADA is defined add wsdl2aws tool.
	(ALL_EXEC): New variable.
	(clean): Use $(ALL_EXEC).

	* wsdl2aws.adb:
	Initial revision.

2003-02-01  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(clean): Use rm -f to avoid warnings.

2002-12-04  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(awsres): Echo progress report.

2002-11-25  Pascal Obry  <p.obry@wanadoo.fr>

	* awsres.adb:
	(Version): Set to 1.0.

2002-06-23  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	Initial revision.

	* awsres.adb:
	Initial revision.
