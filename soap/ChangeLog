2003-11-03  Pascal Obry  <pascal.obry@edf.fr>

	* soap-generator.adb:
	(New_Procedure): Do not output SOAPAction here.

	* soap-wsdl-parser.adb:
	(Parse_PortType):Output SOAPAction if Verbose mode on.

2003-11-02  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): Add _Type suffix to generated array routine.

	* soap-generator-stub.adb:
	(Output_Result): Add _Type suffix to generated array routine.
	(New_Procedure): Idem.
	
	* soap-generator.adb:
	(Types_From): New routine.
	Lot of changes to add suffix _Type to generated array type
	 names. This fixes problems where parameters and types are equal
	 without taking into account the case. Note that this was already
	 done for records.
	(Start_Service): Handles Types_Spec if specified.
	(Generate_Record): Idem.
	(Generate_Array): Idem.

	* soap-generator.ads:
	(Version): Set to 1.1.
	(Types_From): New routine.
	(Object): Add Types_Spec field.

2003-11-01  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-response-error.ads:
	Minor comment fixes.

	* soap-generator-stub.adb:
	(Output_Array): Add recursive call to generate all parameters. Fix
	 a bug where generation stopped after the first array.
	(Output_Record): Idem. Fix a bug where generation stopped after
	 the first record. 

	* soap-generator-skel.adb:
	(New_Procedure): Prefix record and arrays with the name of the
	 variable. Fix code generation when more than one array or record
	 is passed to a routine.
	
2003-10-31  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-wsdl.ads, soap-wsdl.adb:
	(From_Ada): New rotuine.
	(To_XSD): New routine.

2003-10-29  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.adb:
	(Put_Header): Fix indent for routines without paratemeters but with
	 return value.

2003-10-29  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-wsdl.adb:
	(To_Type): Remove "use Exceptions", not used.

	* soap-utils.ads, soap-generator.adb:
	Fix typo in comment.

2003-10-29  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.adb:
	(Put_Header): Fix indent for routines with paratemeters but no
	 return value.

2003-10-09  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-client.ads:
	Fix comment.
	Update copyright notice.

2003-09-24  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-utils.ads:
	(SOAP_Wrapper): Fix typos.

	* soap-types.ads:
	Sort all types in alphabetical order.

2003-09-18  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.adb:
	(Options): New procedure.
	(Put_File_Header): Add wsdl2aws command line in comment.

	* soap-generator.ads:
	(Options): New procedure.
	(Object): Add field Options.

2003-08-29  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.adb:
	(Array_Type): Handle specific case of array containing records
	 having all the same name.

2003-08-14  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* soap-wsdl.adb:
	(To_Type): New routine.
	(Is_Standard): Use new To_Type routine instead of exception handler
	 for recognize non standard type.

2003-08-02  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	Use variable instead of directly calling tools.
	
	* soap-wsdl.adb:
	(Is_Standard): Add pragma Unreferenced.

2003-07-28  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.ads:
	Document the procedure to add SOAP and WSDL support for a new
	 type. This is now far easier and less error prone with the
	 changes made below.

	* soap-generator-skel.adb:
	(New_Procedure): Use WSDL.Set_Routine instead of SOAP_Constructor.
	
	* soap-generator-stub.adb:
	(Output_Simple): Use WSDL.Set_Routine instead of SOAP_Constructor.
	
	* soap-generator.adb:
	(SOAP_Constructor): Removed. Not used anymore.
	(To_Ada_Type): Implementation based on SOAP.WSDL.To_Ada.
	(V_Routine): Removed.
	(Generate_Record): Directly use the Parameter_Type instead of
	 converting it to an Ada type.
	(Get_Routine): Removed.
	(Set_Routine): Directly use the Parameter_Type instead of
	 converting it to an Ada type.
	(Set_Routine.Set_Routine): Removed.
	(Set_Type): Implementation based on SOAP.WSDL.Set_Type.
	
	* soap-utils.ads, soap-utils.adb:
	(Is_Ada_Reserved_Word): Moved here from SOAP.WSDL.	

	* soap-wsdl-parser.adb:
	(Parse_Part): Do not check for type name here, use routine from
	 SOAP.WSDL package.

	* soap-wsdl.ads:
	(Context_Type): New type to specify in which context a variable
	 has been found.
	(To_Ada): Add Context parameter.
	(V_Routine): New routine.
	(Get_Routine): New routine.
	(Set_Routine): New routine.
	(Set_Type): New routine.
	(Is_Ada_Reserved_Word): Moved to SOAP.Utils.
	
	* soap-wsdl.adb:
	(To_Ada): Add Context parameter.
	(V_Routine): New routine.
	(Get_Routine): New routine.
	(Set_Routine): New routine.
	(Set_Type): New routine.
	(To_Type): Check for type name is done case-insensitive.
	(Is_Ada_Reserved_Word): Moved to SOAP.Utils.

2003-06-24  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-wsdl-parser.adb:
	(Parse_Array): Fix assertion.	

2003-06-22  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-client.ads, soap-client.adb:
	(Call): Change connection mode to "in". Reformat parameter. 

	* soap-client.adb:
	(Call): Add SOAPAction for the persistent connection. Pass it to
	 the AWS.Client.SOAP_Post call.

	* soap-client.ads:
	(Call): Add SOAPAction for the persistent connection.

2003-06-21  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-wsdl-parser.adb:
	(Parse_Record): Fix assertion.

	* makefile:
	(SOURCES): Add soap-dispatchers.adb soap-dispatchers-callback.adb

	* soap-dispatchers-callback.ads, soap-dispatchers-callback.adb:
	(Callback_Routine): Move to parent and renamed to SOAP_Callback.
	(Dispatch_Base): Renamed to Dispatch_HTTP.
	Reformat code.
	Fix copyright notice.

	* soap-dispatchers.ads:
	(Dispatch_Base): Renamed to Dispatch_HTTP.
	Add SOAP_Callback type (was in child package callback).
	(Dispatch_SOAP): Rename Action parameter to SOAPAction, Request to
	 Payload and add Request (Status.Data) paramater.
	Fix comments.
	Reformat code.
	Fix copyright notice.

	* soap-dispatchers.adb:
	(Dispatch_Base): Renamed to Dispatch_HTTP.
	(Dispatch_SOAP): Rename Action parameter to SOAPAction, Request to
	 Payload and add Request (Status.Data) paramater.
	Reformat code.
	Fix copyright notice.

	* soap-generator-skel.adb:
	(New_Procedure): Generate new spec for the SOAP callbacks. This
	 can be used directly by the SOAP.Dispatchers.
	(Start_Service): Move SOAP.Message.Payload withed unit from the
	 body to the spec.

	* soap-utils.ads, soap-utils.adb:
	(SOAP_Wrapper): New routine.

2003-06-20  Dmitriy Anisimkov <anisimkov@yahoo.com>

	* soap-dispatchers.ads, soap-dispatchers.adb,
	  soap-dispatchers-callback.ads, soap-dispatchers-callback.adb:
	New packages for be able to have special SOAP dispatchers and 
	 callbacks.

2003-06-19  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.adb, soap-generator-stub.adb, soap-generator-skel.adb:
	Lot of changes due to new parser recording properly the node kind
	 (array or record). This new implementation is far cleaner and
	 does not use old Is_Array based on array name.

	* soap-wsdl-parameters.adb:
	(Output): Display [record] or [array] instead of [composite].
	(Release): Minor fix.

	* soap-wsdl-parameters.ads:
	(Kind): Remove K_Composite, add K_Array and K_Record.
	(Parameter): Add E_Type for array element type.

	* soap-wsdl-parser.adb:
	(Is_Array): New routine. Check for array on the DOM node.
	(Parse_Array): Update array element name. P has now a K_Array mode.
	(Parse_Element): Use new Is_Array.
	(Parse_Parameter): Use new Is_Array.
	(Parse_Record): P has now a K_Record mode.

	* soap-wsdl-parser.ads:
	(Object): Add Array_Element field.

	* soap-wsdl.adb:
	(Is_Ada_Reserved_Word): Add comment.

	* soap-utils.ads, soap-utils.adb:
	(Array_Type): Removed.
	(Is_Array): Removed.

2003-06-18  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): Add test for the SOAP procedure name, raise an
	 exception if it is not the expected one.
	(Start_Service): Add pragma Warnings off.

2003-06-18  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.ads:
	(Version): Set to 1.0.

	* soap-generator-stub.adb:
	(Start_Service): Add pragma Warnings Off for the spec and body.

	* soap-generator-skel.adb:
	(New_Procedure): Do not generate code to parse the payload. This
	 is done by AWS now. Retrieve directly the payload object. Do not
	 include SOAP.Message.XML not used anymore.

	* soap-message-xml.adb:
	(Parse_String): Remove the encode parameter in S calls. This is
	 now the default (no encoding).

	* soap-types.adb:
	(S): Remove the encode option. This is not the right place to
	 encode the string. Note that this is not an upward compatible
	 change.
	(XML_Image): Encode strings here.

	* soap-types.ads:
	(S): Remove the encode option. This is not the right place to
	 encode the string. Note that this is not an upward compatible
	 change.

2003-05-22  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-reader.adb:
	(Characters): If the encoding is not Utf-8 just keep the string
	 as-is. We do not want this routine to raise an exception.

2003-05-21  Pascal Obry  <p.obry@wanadoo.fr>

	* soap.ads:
	(Version): Set to 1.2.
	Update copyright header.

	* soap-message-reader.adb:
	(Characters): Use Utils.From_Utf8.

	* soap-message-xml.adb:
	(XML_Header): Add encoding style (Utf8).
	(Load_Payload): Parse using Utf8 encoding.
	(Load_Response): Idem.
	Minor reformatting.

	* soap-types.adb:
	(S): Encode strings in Utf8.
	(V): Code back the string to Basic_8bit (standard string).

	* soap-utils.ads, soap-utils.adb:
	(To_Utf8): New routine.
	(From_Utf8): New routine.
	Update copyright header.

2003-05-20  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-xml.adb:
	Add support for SOAP Double type.
	(Parse_Array): Fix the way array types are cheched, we now
	 properly use the namespace.
	(Is_Array): New routine.

	* soap-wsdl-parser.adb:
	(Parse_Parameter): Properly set the Current_Name field before
	 parsing the record.
	Minor comment fix.

	* soap-wsdl-parser.ads:
	(Object): Set to limited private. Add field Self (auto-pointer).

	* soap-utils.adb:
	(NS): New routine.

	* soap-utils.ads:
	(NS): New routine.
	Minor comment fix.

2003-05-18  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.ads:
	(Version): Set to 0.9. After previous changes to the parser/generator.

2003-05-16  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.ads, soap-types.adb:
	Add support for SOAP double type.

	* soap-wsdl.ads:
	(Parameter_Type): Add P_Double.
	(Is_Ada_Reserved_Word): New routine.

	* soap-wsdl.adb:
	(Is_Ada_Reserved_Word): New routine.

	* soap-wsdl-parser.adb:
	(Parse_Array): Parse array element if this one is not a standard
	 SOAP type.
	(Parse_Parameter): Fix exception message.
	
	* soap-utils.ads, soap-utils.adb:
	(Aray_Type): New routine.
	(Is_Array): A name terminated with Array is also reported as an
	 array type. Note that this has been found in the SOAP Google API
	 and seems to be non standard. Add ??? about the right way to
	 check for an array type.

	* soap-generator.adb:
	(Ada_Format): Add leading "v_" (v for variable) for Ada reserved words.
	(Array_Type): Add Cut parameter to control if the trailing _xyz
	 must be removed or not. Use Utils.Array_Type for the final work.
	(Generate_Array): Properly retrieve the for array type element.
	(Generate_Array): Use Array_Type routine.
	(To_Ada_Type): Handles Double.
	(Set_Routine): Handles Long_Long_Float (SOAP Double).
	(Set_Type): Idem.
	(SOAP_Constructor): Idem.
	Minor reformatting.

2003-05-08  Anisimkov Dmitriy <anisimkov@yahoo.com>

	* soap-message-reader.adb:
	(Characters): Change pragma Unreferenced to Warnings Off for Tmp
	 because GNAT 3.15p handle a left side assignment as a reference.
	(Ignorable_Whitespace): Idem.

2003-05-06  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-reader.adb:
	(Characters): Add Unreferenced pragma for Tmp.
	(Ignorable_Whitespace): Idem.

2003-04-15  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.ads:
	Add some comments. Reorganize private code a bit.

2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-wsdl-parser.adb:
	(Accept_RPC): Removed.
	(Accept_Document): New procedure.
	(Parse_Binding): Raise an exception if document style binding and
	 not activated.
	
	* soap-wsdl-parser.ads:
	(Accept_RPC): Removed.
	(Accept_Document): New procedure.
	(Object): Remove field Accept_RPC, add field Accept_Dcument.
	
2003-03-22  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.ads:
	(XML_Any_Type): New constant.

	* soap-wsdl-parser.adb:
	(Skip_Error): New variable.
	(Continue_On_Error): New procedure.
	(Parse): Display message when no service tag have been found.
	(Parse_Array): Check for unsupported ArrayOfanyType type.
	(Parse_Binding): Catch WSDL_Error exceptions. Display error
	 message and re-raise only if no in continue-on-error mode.
	(Parse_Parameter): Properly detect unsupported anyType type.
	(Parse_Part;): Idem.

	* soap-wsdl-parser.ads:
	(Continue_On_Error): New procedure.

2003-03-19  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-client.adb:
	(Call): Add parameters User, Pwd, Proxy, Proxy_User and Proxy_Pwd.
	 Pass these variables to the AWS.Client.SOAP_Post call.

	* soap-client.ads:
	(Call): Add parameters User, Pwd, Proxy, Proxy_User and Proxy_Pwd.

	* soap-generator-skel.adb:
	(New_Procedure): Fix layout of some generated code. Generate code
	 to check for SOAPAction, return a SOAP error message if the
	 SOAPAction is not ok.

	* soap-generator-stub.adb:
	(New_Procedure): Fix layout of some generated code. Generate code
	 for proxy authentication if needed.

	* soap-generator.adb:
	(Set_Proxy): New procedure.
	(Put_Header): Fix layout of some generated code.

	* soap-generator.ads:
	(Set_Proxy): New procedure.
	(Object): Add fields Proxy, P_User And P_Pwd.

2003-03-18  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-reader.adb:
	(Characters): Convert Ch from Utf8 to Basic_8bit.

	* soap-message-xml.ads:
	Minor reformatting.

2003-03-16  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): A string inside a record is encoded as
	 Unbounded_String, properly encode it with SOAP.Utils.US.

	* soap-generator-stub.adb:
	(Output_Array): Handle arrays in records.
	(Output_Result): Generate code to properly convert string to
	 Unbounded_String.

	* soap-generator.adb:
	(Generate_Record): Properly handle nested records.
	(Get_Routine): Fix record convertion routine name.
	(Type_Name): Idem.
	(Start_Service): Generate renaming for To_Unbounded_String.
	
	* soap-wsdl-parser.adb:
	(Parse_Parameter): Handle arrays.
	(Verbose): Use a Verbose_Level to support multi-level verbose mode.
	(Parse_PortType): Output service spec if verbose level 1.
	(Trace): Activate output if verbose level 2.
	Minor reformatting.

	* soap-wsdl-parser.ads:
	(Verbose_Level): New type.
	(Verbose): Use a Verbose_Level to support multi-level verbose mode.

2003-03-15  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb: 
	(Start_Service): Generate pragma Warnings Off to workaorund a
	 wrong warnings issued by GNAT. Fixed in 3.17.

2003-03-15  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-stub.adb, soap-generator-skel.adb:
	(New_Procedure): Handle properly case of routines without input data
	 and/or without return data.
	
	* soap-generator.adb:
	(Put_Header): Handle properly case of routines without input data
	 and/or without return data.

	* soap-wsdl-parser.adb:
	(First_Child): Check for null pointer to exit the loop.
	(Parse_Message): Add trace.

2003-03-14  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-reader.adb:
	(Ignorable_Whitespace): Handle properly multiple spaces. Fix bug
	 reported by Wiljan Derks.

2003-03-13  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-xml.adb:
	(A_State): Do not raise an exception if the SOAP_Record type is
	 not a basic type. This is probably a record.

2003-03-12  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.adb:
	(Start_Service): Avoid ending spaces in the documentation line as
	 this violate the style rules.

2003-03-12  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(Output_Parameters): Correctly handle the case of a single Base64
	 returned.
	(New_Procedure): Generate better error message with procedure
	 reference and error message from exception.
	(Start_Service): Generate with clause for Ada.Exceptions in body.

	* soap-generator.adb:
	(Generate_Record): Remove generated pragma unreferenced, this
	 parameter should be used. Correctly generate the name of the
	 array parameter.

	* soap-parameters.adb:
	(Argument): Do not output dot at the end of the error message.
	(Check): Idem.

2003-03-12  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): Remove space in some case. Fix style of
	 generated sources.

	* soap-generator-stub.adb:
	(Output_Parameter): Remove space in some case. Fix style of
	 generated sources.
	(Output_Simple): Fix casing of generated SOAP.Utils.US reference.
	(Start_Service): Add pragma Style_Checks off for stub body.

	* soap-generator.adb:
	(Array_Type): Do not lower case the first character. This cause
	 too many problems later.
	(Generate_Record): Generate a pragma unreferenced.
	(Start_Service): Add pragma Style_Checks off for spec .Types child.

	* soap-wsdl.adb:
	(Is_Standard): Check for type starting with an upper-case.
	(To_Type): Idem.

2003-03-12  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(Start_Service): Generate with clause for Ada.Calendar.

	* soap-generator-stub.adb:
	(New_Procedure): Correctly handle the case of a single Base64 returned.
	(Start_Service): Generate with clause for Ada.Calendar.
	
	* soap-generator.adb:
	(SOAP_Constructor): Return a string (was a character), handle the
	 P_B64 case.

	* soap-message-xml.adb:
	(Parse_Boolean): Handle all cases. A True boolean can have the
	 values 1, true or TRUE.
	(Parse_Time_Instant): Fix bug in TZ handling. Correctly detect GMT
	 timezone (Z character).

	* soap-parameters.ads, soap-parameters.adb:
	(Get): Add version returning an Ada.Calendar.Time object.

	* soap-types.adb:
	(Get): Add version returning an Ada.Calendar.Time object.
	Minor reformatting.
	Update copyright notice.

	* soap-types.ads:
	(XML_Date_Time): New constant.
	(XML_Base64_Binary): New constant.
	(Get): Add version returning an Ada.Calendar.Time object.
	Update copyright notice.

	* soap-wsdl-parser.adb:
	(Parse_Part): Handle XML_Date_Time and XML_Base64_Binary.

	* soap-wsdl.adb:
	(Is_Standard): Add dateTime and base64Binary.
	(To_Ada): Add P_B64 case.
	(To_Type): Idem.

	* soap-wsdl.ads:
	(Parameter_Type): Add P_B64.

2003-03-12  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): Add Namespace parameter. Handle properly arrays
	 as in parameter or as returned object.

	* soap-generator-stub.adb:
	(New_Procedure): Add Namespace parameter. Handle properly arrays
	 as in parameter or as returned object.
	(Output_Array): New procedure.
	(Output_Parameter): Properly call Output_Array for array element.
	(Output_Simple): Handle string declared into an array.
	(Start_Service): Generate with clause for SOAP.Utils.

	* soap-generator.adb:
	(New_Procedure): Add Namespace parameter. Pass Namespace to 
	 stub/skel New_Procedure calls.
	(Put_Header): Properly handle array formal parameter.
	(To_Ada_Type): Handle lower case type representation. Add int handling.
	(Set_Routine): Handle string into an array which are Unbounded_String.
	 Add int handling.
	(Set_Type): Handle lower case type representation.
	(Put_Types): Handle subtype declaration for routines returning an
	 array.
	
	* soap-generator.ads:
	(Version): Set to 0.8.
	(New_Procedure): Add Namespace parameter.

	* soap-message-xml.adb:
	(Parse_Param): If not a simple SOAP type, try parsing the node as
	 a SOAP struct.
	Minor reformatting.
	Update copyright header.

	* soap-wsdl-parser.adb:
	(Parse_Array): New function.
	(New_Procedure): Add Namespace parameter.
	(Parse_Element): Properly detect arrays and use Parse_Array procedure.
	(Parse_Operation): Read and store the namespace.
	(Parse_Part): Handle boolean type.
	(Parse_PortType): Pass the namespace to New_Procedure call.
	
	* soap-wsdl-parser.ads:
	(New_Procedure): Add Namespace parameter.
	(Object): Add Namespace field.

2003-03-11  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): Fix reference to a safe array access.

	* soap-generator-stub.adb:
	(Output_Result): Call safe array access constructor.

	* soap-generator.adb:
	(Generate_Array): Generate array safe pointer support.
	(Generate_Record): Add comment about array fields access. Convert
	 array fieds to array safe pointer. Fix access to safe array items.
	(Type_Name): Name of array type terminate by _Safe_Access now.

	* soap-utils.adb:
	(To_T_Array): Returns a T_Array instead of a T_Array_Access.
	(Safe_Pointers): New package.

	* soap-utils.ads:
	(To_T_Array): Remove generic formal parameter T_Array_Access. Returns
	 a T_Array instead of a T_Array_Access.
	(Safe_Pointers): New package.

2003-03-08  Pascal Obry  <p.obry@wanadoo.fr>
	
	* soap-generator.adb:
	(Generate_Record): Align generated record fields for the
	 spec. Generated code looks better.

2003-03-08  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.adb:
	(Create): Use AWS.OS_Lib instead of GNAT.OS_Lib. Fix build failure
	 with GNAT 3.15p.

2003-03-07  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): Remove a call to Format_Name, we do not want to
	 change the name of the SOAP entities as they are part of the spec.
	
	* soap-generator.adb:
	(Format_Name): Do not add an underscore before or after a dot.
	(Generate_Record): Add missing calls to Format_Name. This allow
	 -a wsdl2aws option to work properly.

2003-03-06  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator.adb:
	(Array_Type): Return the type in lower case.
	(Start_Service): Move generated pragma Elaborate_Body after other
	 pragmas.
	(Get_Routine): Use lower case for the test on the type.
	(Set_Routine): Add lower cases for all basic types.

2003-03-05  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-generator-skel.adb:
	(New_Procedure): Remove trailing space in code generation.

	* soap-generator-stub.adb:
	(New_Procedure): Remove trailing space in code generation.

	* soap-generator.adb:
	(Put_File_Header): Split CVS Id tag to avoid its expansion.
	(Start_Service): Add pragma Warnings off for packages that are not
	 always used.

2003-03-05  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(SOURCES): Add soap-wsdl* and soap.generator.adb.

	* soap-utils.ads, soap-utils.adb:
	(Is_Array): New routine.
	(No_NS): New routine.
	(To_T_Array): New routine.
	(To_Object_Set): Ne routine.
	(Get): New routine.
	(V): New routine.
	(US): New routine.

	* soap-wsdl.ads, soap-wsdl.adb:
	Initial revision.

	* soap-wsdl-parser.ads, soap-wsdl-parser.adb:
	Initial revision.

	* soap-wsdl-parameters.ads, soap-wsdl-parameters.adb:
	Initial revision.

	* soap-generator-stub.adb, soap-generator-skel.adb:
	Initial revision.

	* soap-generator.ads, soap-generator.adb:
	Initial revision.

	* soap-generator-name_set.adb:
	Initial revision.

2003-02-23  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-response-error.ads:
	Minor reformatting.
	Update copyright notice.

	* soap-message-response-error.adb:
	Replace pragma Warnings by Unreferenced.
	Minor reformatting.
	Update copyright notice.

	* soap-message-reader.adb:
	Replace pragma Warnings by Unreferenced.
	Update copyright notice.

	* soap-client.adb:
	Minor reformatting.
	Update copyright notice.

2003-02-01  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(clean): Use rm -f to avoid warnings.

2003-01-22  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(UNITS): New variable used to rebuild all units.
	(build): Do not use a loop for the build process. It depends on
	 UNITS and units are built by this rule. Now the build process
	 stop at the first error. Cleaner build process.

2002-12-04  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(GARGS): Add -q and -u (quiet mode).
	(build): Echo the current compiled package.

2002-11-26  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.ads:
	Group all Get routines together. Fix some comments.
	Update copyright notice.

	* soap-client.adb:
	Minor reformatting.

	* soap-types.ads, soap-types.adb:
	(Size): New routine.
	(V): New routine to get an item from an array using an index.

2002-11-20  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-reader.adb:
	Minor reformatting.
	Update copyright notice.

2002-09-25  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.adb:
	Put routines in alphabetical order.

2002-09-21  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-parameters.ads, soap-parameters.adb:
	(Get): New function returning a SOAP_Base64.

	* soap-types.ads, soap-types.adb:
	(Get): New function returning a SOAP_Base64.

2002-09-18  Pascal Obry  <p.obry@wanadoo.fr>

	* soap.ads:
	(Version): Set to 1.1.

	* soap-client.adb:
	(Call): SOAPAction is URL & '#' & Procedure_Name by default. This
	 is now consistent with spec comments.

	* soap-client.ads:
	Update comment about SOAPAction.
	Minor reformatting.	

	* soap-message-payload.ads, soap-message-payload.adb:
	(Build): Name_Space default set to Default_Name_Space.
	Minor reformatting.

	* soap-message-xml.adb:
	(State): Add Name_Space field. Will keep the object name space as
	 parsed into the Payload.
	(Load_Payload): Build the payload with the right name space.
	(LOad_Response): Build response object with the right name space
	 instead of a null one.
	(Parse_Array): Fix State aggregate (new field Name_Space).
	(Parse_Base64): Correctly handle empty Base64 content.
	(Parse_Wrapper): Retrieved and set the name space as encoded into
	 the wrapper object.
	Minor reformatting.	

	* soap-message.adb:
	(XML_Image): Do not use hard coded dummy name space but the one
	 encoded into the message object.

	* soap-message.ads:
	(Default_Name_Space): New constant.
	(Object.Name_Space): Initialize with the default name space value.

2002-08-02  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-parameters.adb:
	Change Object_Controlled to Object_Safe_Pointer. Use "-" as it is
	 not possible to access object directly.

	* soap-types.adb:
	(xsi_type): Inlined.
	(Spaces): Inlined.
	("-"): New procedure to retreive an Object from an Object_Safe_Pointer.
	(Finalize): [for Composite] Properly release all objects.
	A lot of changes in aggregate construction due to object being
	 a controlled object.
	
	* soap-types.ads:
	(Object): Now a controlled object to properly release the memory.
	 Needed to fix a big memory leak on composite objects.
	(Object_Controlled): Renamed to Object_Safe_Pointer.
	(Object_Safe_Pointer): Do not expose the record here.
	("-"): New procedure to retreive an Object from an Object_Safe_Pointer.
	(Composite): Add Object_Set_Access here.
	(SOAP_Record): Derived directly from Composite adding no field.
	(SOAP_Array): Idem.
	
2002-07-31  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.ads:
	Composite types are now handed by reference to gain speed while
	 handling large array or record. Problem reported by Wiljan Derks.
	(Initialize): New routines for SOAP_Array and SOAP_Record.
	(Finalize): Idem.
	Minor reformatting.
	
	* soap-types.adb:
	A lot of changes due to data structure change for handling
	 composite types by reference.
	(Initialize): New routines for SOAP_Array and SOAP_Record.
	(Finalize): Idem.
	Minor reformatting.

	* soap.ads:
	(Version): Set 1.0

2002-05-25  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-xml.adb:
	(Parse_String): Properly handle null string. Fix a bug reported by
	 Wiljan Derks.

2002-05-17  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-reader.adb:
	Add pragma Warnings Off to avoid compilation warnings about unused
	 entities.
	Patch from Wiljan Derks.

	* soap-message-response-error.adb:
	(Start_Faultcode): Remove as it is not used.
	(End_Faultcode): Idem.
	(Start_Faultstring): Idem.
	(End_Faultstring): Idem.
	(From): Add pragma Warnings Off to avoid compilation warnings
	 about unused entity.
	(Is_Error): Idem.
	Patch from Wiljan Derks.

	* soap-message-response.adb:
	(Is_Error): Add pragma Warnings Off to avoid compilation warnings
	 about unused entity.
	Patch from Wiljan Derks

	* soap-message-xml.adb:
	(Start_Fault_Env): Remove as it is not used.
	Patch from Wiljan Derks.

	* soap-types.adb:
	Add pragma Warnings Off to avoid compilation warnings about unused
	 entities.
	Remove some unused constant.
	Patch from Wiljan Derks.

2002-03-26  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.adb:
	Minor comment fix.
	
	* soap-types.adb:
	(Array_Type): Fix implementation. Handle properly Array with a
	 single record.

2002-03-24  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-types.adb:
	Fix minor style error.

	* soap-message-xml.adb:
	(Parse_Param): Detect object without type. Workaround a problem
	 with interoperability with IIS server using WSDL and not providing
	 the type into the payload. All such type are just encoded as
	 XML_String objects. First part of the fix for a bug reported by
	 Wiljan Derks.
	Add node name to error message.
	Minor reformatting.

	* soap-message.adb:
	(XML_Image): Rename NL to New_Line. Do not indent here the payload
	 wrapper. This is now properly done into SOAP.Types.

	* soap-types.adb:
	(XML_Indent): Thread safe counter used to indent XML payload.
	(Spaces): New routine.
	(XML_Image): All version, use XML_Indent to properly indent the
	 XML payload. Easier to read.
	(Array_Type): Same_Type is false if we have composite type (Record
	 or Array) into the Array. Second part of the fix for a bug
	 reported by Wiljan Derks.

2002-03-20  Pascal Obry  <p.obry@wanadoo.fr>

	* soap.ads:
	(Version): Set to 0.9.

	* soap-types.adb:
	(Array_Type): Returns XML_Undefined for a zero length array.
	Patch from Wiljan Derks.

2002-03-04  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-client.adb:
	(RPC_Call): Use Pathname instead of URL (previous fix was wrong).

2002-03-03  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-xml.adb:
	Put all routines in alphabetical order.

2002-02-06  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-client.adb:
	(Call): [HTTP_Connection] New function.
	Remove with AWS.Client.
	Patch from Wiljan Derks.
	
	* soap-client.ads:
	(Call): [HTTP_Connection] New function.
	Move with AWS.Client here instead of body.
	Patch from Wiljan Derks.

	* soap-types.ads, soap-types.adb:
	(V): [SOAP_Record] New function returning an Object_Set for a SOAP
	 record.
	Patch from Wiljan Derks.

2002-01-23  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-client.adb:
	(RPC_Call): Rename URI to URL.

2001-10-22  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-xml.adb:
	Fix casing.

	* soap-types.ads, soap-types.adb:
	Fix casing.

2001-10-12  Pascal Obry  <p.obry@wanadoo.fr>

	* soap.ads:
	Fix typo in header.

	* soap-utils.ads, soap-utils.adb:
	Fix typo in header.

	* soap-types.ads, soap-types.adb:
	Fix typo in header.

	* soap-parameters.ads, soap-parameters.adb:
	Fix typo in header.

	* soap-message.ads, soap-message.adb:
	Fix typo in header.

	* soap-message-xml.ads, soap-message-xml.adb:
	Fix typo in header.

	* soap-message-response.ads, soap-message-response.adb:
	Fix typo in header.

	* soap-message-response-error.ads, soap-message-response-error.adb:
	Fix typo in header.

	* soap-message-reader.ads, soap-message-reader.adb:
	Fix typo in header.

	* soap-message-payload.ads, soap-message-payload.adb:
	Fix typo in header.

	* soap-client.ads, soap-client.adb:
	Fix typo in header.

2001-09-28  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-reader.adb:
	(Ignorable_Whitespace): remove handling for ASCII.CR since an XML
	 parser should removes all ASCII.CR occurences.

2001-09-21  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile: 
	(GARGS): use GFLAGS passed from makefile in parent directory.
	
	* soap-message-reader.ads:
	Removes unused with clause.

	* soap-message-xml.adb:
	Removes not used with clause.
	Add with that was on the spec.
	(Parse_Body): removes NL and Name (not used).

	* soap-message-xml.ads:
	Move with clause to body.

	* soap-parameters.ads, soap-parameters.adb:
	(Check_Int): renamed to Check_Integer.
	(Check_Boolean): new procedure.
	(Check_Time_Instant): idem.
	(Check_Base64): idem.
	(Check_Null): idem.
	(Check_Record): idem.
	(Check_Array): idem.

	* soap-client.ads:
	Fix typo in comment.

	* soap-message-reader.ads:
	Minor casing fix.

	* soap-message-xml.adb:
	Minor casing fix.

2001-09-20  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-payload.ads, soap-message-payload.adb:
	Rename Parameters.Set to Parameters.List.

	* soap-message-response-error.adb:
	Rename Parameters.Set to Parameters.List.

	* soap-message-xml.adb:
	Rename Parameters.Set to Parameters.List.

	* soap-message.ads, soap-message.adb:
	Rename Parameters.Set to Parameters.List.

	* soap-parameters.ads, soap-parameters.adb:
	(Set): renamed List as we have AWS.Parameters.List.

	* soap-types.adb:
	(A): return now a controlled object.
	(Adjust): new procedure.
	(Finalize): new procedure.
	(Finalize): free memory only if pointer is not null.
	(Image): [for SOAP_Array] fix reference to object since now it is
	 a controlled object.
	(Image): [for SOAP_Record] idem.
	(V): [for SOAP_Array] idem.
	(V): [for SOAP_Record] idem.
	(XML_Image): [for SOAP_Array] idem.
	(XML_Image): [for SOAP_Record] idem.
	(R): return now a controlled object.

	* soap-types.ads:
	(Object_Set_Controlled): new type. Used for SOAP_Array and
	 SOAP_Record to avoid memory leak.
	(Adjust): new procedure.
	(Finalize): new procedure.
	(SOAP_Array): use an Object_Set_Controlled.
	(SOAP_Record): idem.

2001-09-19  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-payload.ads, soap-message-payload.adb:
	Minor reformating.

	* soap-message-xml.adb:
	(Load_Payload): Call free to relase DOM tree memory.
	(Load_Response): idem.
	(Parse_Float): Value is now a constant.
	(Parse_Int): idem.

	* soap-message-response-error.adb:
	(Tag): moved to SOAP.Utils.
	(XML_Image): uses SOAP.Utils.Tag.

	* soap-message-response-error.ads:
	Minor reformating.

	* soap-message-xml.ads, soap-message-xml.adb:
	Complete rewrite using DOM instead of SAX. This implementation
	 support all SOAP 1.1 types and has been validated.

	* soap-message.adb:
	(XML_Image): uses Utils.Tag to build the Message_Body.

	* soap-parameters.adb:
	(Get): add implementation returning Boolean, Record, Array.
	(Exist): new function.

	* soap-parameters.ads:
	(Get): add implementation returning Boolean, Record, Array.
	(Exist): new function.
	(Set): is now based on Types.Object_Set.

	* soap.ads:
	(Version): set to 0.8 (this version has been validated through
	 http://validator.soapware.org/)
	(SOAP_Error): new exception.

	* soap-types.ads, soap-types.adb:
	A lot of changes. Renames all SOAP object to SOAP_* to avoid
	 conflict with standards types.	Add implementation for Boolean,
	 Timeinstant, Base64, Array, Record and Null data. Object added to
	 an Object_Set are now controlled since here we need to use an
	 access type. This should avoid memory leaks.

	* soap-utils.ads, soap-utils.adb:
	Initial revision.

	* soap-message-reader.ads, soap-message-reader.adb:
	Initial revision.

2001-08-30  Pascal Obry  <p.obry@wanadoo.fr>

	* makefile:
	(GFLAGS): mode XML path to main makefile.
	
	* makefile:
	Initial revision.

2001-08-26  Pascal Obry  <p.obry@wanadoo.fr>

	* soap-message-xml.ads, soap-message-xml.adb:
	Removed unused package.
	Rename Message.Error to Message.Response.Error.

	* soap.ads:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-types.ads, soap-types.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-parameters.ads, soap-parameters.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-message.ads, soap-message.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-message-xml.ads, soap-message-xml.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-message-response.ads, soap-message-response.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-message-payload.ads, soap-message-payload.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-message-error.ads, soap-message-error.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

	* soap-client.ads, soap-client.adb:
	Add copyright notice. This is to be considered as the first
	 version. Most of the framework is validated at this point.

2001-08-25  Pascal Obry  <p.obry@wanadoo.fr>

	* soap.ads:
	Initial revision.

	* soap-types.ads, soap-types.adb:
	Initial revision.

	* soap-parameters.ads, soap-parameters.adb:
	Initial revision.

	* soap-message.ads, soap-message.adb:
	Initial revision.

	* soap-message-xml.ads, soap-message-xml.adb:
	Initial revision.

	* soap-message-response.ads, soap-message-response.adb:
	Initial revision.

	* soap-message-payload.ads, soap-message-payload.adb:
	Initial revision.

	* soap-message-error.ads, soap-message-error.adb:
	Initial revision.

	* soap-client.ads, soap-client.adb:

	Initial revision.

